<!-- get-location.html -->
<p id="location">Fetching your location...</p>

<form id = "locationForm" method="post" action="weather">
    <input type = "hidden" name = "latitude" id = "latitude">
    <input type = "hidden" name = "longitude" id = "longitude">
</form>

<br><br><br><br><br><br>
<a href="/">Go back</a>

<script>
    function getLocation() {
        navigator.geolocation.getCurrentPosition(sendForm);
    }

    function sendForm(location) {
        document.getElementById("latitude").value = location.coords.latitude;
        document.getElementById("longitude").value = location.coords.longitude;
        document.getElementById("locationForm").submit();
    }
    
    window.onload = getLocation;
</script>

</body>
</html>